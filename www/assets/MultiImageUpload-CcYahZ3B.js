import{e as E,r as S,G as Y,j as e,B as o,T as b,a0 as X,F as J,a2 as O,y as H,aw as Q,ap as Z,aq as N,aG as ee,aH as re,o as te,aI as ae,aJ as le,aK as se,aL as ne,U as oe,ae as ie,O as ce,aM as de,n as k,aN as ue,ar as M,w as he,aO as xe,ah as P,ao as _,au as pe,av as ge,f as fe,h as me,J as G,a7 as be,aD as V,I as ye,X as ve}from"./index-DGPOwJJr.js";import{C as je}from"./CategoryDropdown-C5_L9UJB.js";import{A as ke}from"./alert-circle-BIXLrZ7T.js";import{a as U}from"./star-CCnGXB6K.js";import{L as we}from"./leaf-BMOzByc0.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=E("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=E("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=E("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=E("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=E("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=E("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),We=()=>{const[t,u]=S.useState([]),[a,h]=S.useState(!1),[n,i]=S.useState(null);return{suggestions:t,loading:a,error:n,getSuggestions:async(c,x)=>{if(!c||!x){i("Titel und Beschreibung werden benÃ¶tigt");return}h(!0),i(null);try{const{data:f,error:v}=await Y.from("categories").select("id, parent_id, level, slug, translations").order("level",{ascending:!0});if(v)throw v;if(!f)throw new Error("Keine Kategorien gefunden");const p=Be(f),j=Ie(c,x,p);u(j)}catch(f){console.error("Error getting category suggestions:",f),i(f instanceof Error?f.message:"Fehler beim Laden der VorschlÃ¤ge")}finally{h(!1)}}}};function Be(t){const u=new Map(t.map(n=>[n.id,n])),a=[];return t.filter(n=>n.level>=3).forEach(n=>{var x,f;const i=[],d={};let c=n;for(;c;){const v=((f=(x=c.translations)==null?void 0:x.de)==null?void 0:f.name)||"Unbekannt";i.unshift(v),c.level===1?d.level1=c.id:c.level===2?d.level2=c.id:c.level===3?d.level3=c.id:c.level===4&&(d.level4=c.id),c=c.parent_id?u.get(c.parent_id):null}a.push({fullPath:i.join(" â€º "),pathArray:i,selection:d,endCategoryId:n.id,keywords:De(i)})}),a}function De(t){const u=[];return t.forEach(a=>{const h=a.toLowerCase().split(/[\s&,-]+/).filter(n=>n.length>2&&!["und","der","die","das","fÃ¼r","von","mit"].includes(n));u.push(...h)}),u}function Ie(t,u,a){const h=`${t} ${u}`.toLowerCase(),n=[];return a.forEach(i=>{let d=0;const c=[];i.keywords.forEach(x=>{h.includes(x)&&(d+=x.length,c.push(x))}),c.length>1&&(d*=1.5),d>0&&n.push({path:i.fullPath,categorySelection:i.selection,confidence:Math.min(d/20,1),reasoning:`Passende Keywords: ${c.join(", ")}`})}),n.sort((i,d)=>d.confidence-i.confidence).slice(0,3)}const Ae=({title:t,description:u,onSelect:a,currentCategory:h})=>{const{suggestions:n,loading:i,error:d,getSuggestions:c}=We();return S.useEffect(()=>{t.length>10&&u.length>20&&!h&&c(t,u)},[t,u,h]),h&&Object.keys(h).length>0?null:t.length<10||u.length<20?e.jsx(o,{sx:{p:2,bgcolor:"info.lighter",borderRadius:2,mb:2},children:e.jsxs(o,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsx(R,{size:20}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"FÃ¼lle Titel und Beschreibung aus, um automatische Kategorie-VorschlÃ¤ge zu erhalten"})]})}):i?e.jsxs(o,{sx:{p:2,bgcolor:"grey.50",borderRadius:2,mb:2,textAlign:"center"},children:[e.jsx(X,{size:24}),e.jsx(b,{variant:"body2",sx:{mt:1},color:"text.secondary",children:"Analysiere Produkt und suche passende Kategorien..."})]}):d?e.jsx(J,{severity:"error",sx:{mb:2},children:d}):n.length===0?e.jsx(o,{sx:{p:2,bgcolor:"warning.lighter",borderRadius:2,mb:2},children:e.jsxs(o,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsx(R,{size:20}),e.jsx(b,{variant:"body2",children:"Keine passenden Kategorien gefunden. Bitte wÃ¤hle manuell eine Kategorie aus."})]})}):e.jsx(o,{sx:{mb:3},children:e.jsxs(o,{sx:{p:2,bgcolor:"success.lighter",borderRadius:2,border:"1px solid",borderColor:"success.light"},children:[e.jsxs(o,{sx:{display:"flex",gap:1,alignItems:"center",mb:2},children:[e.jsx(R,{size:20,color:"green"}),e.jsx(b,{variant:"subtitle2",fontWeight:600,children:"Vorgeschlagene Kategorien"})]}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Basierend auf deiner Beschreibung haben wir folgende Kategorien gefunden:"}),e.jsx(o,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:n.map((x,f)=>e.jsxs(o,{sx:{p:1.5,bgcolor:"white",borderRadius:1,border:"1px solid",borderColor:"grey.200",cursor:"pointer",transition:"all 0.2s","&:hover":{borderColor:"primary.main",bgcolor:"primary.lighter",transform:"translateX(4px)"}},onClick:()=>a(x.categorySelection),children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[e.jsx(b,{variant:"body2",fontWeight:500,children:x.path}),e.jsx(O,{label:`${Math.round(x.confidence*100)}%`,size:"small",color:x.confidence>.7?"success":"default",sx:{height:20,fontSize:"0.7rem"}})]}),e.jsx(b,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5},children:x.reasoning}),e.jsx(H,{size:"small",startIcon:e.jsx(Q,{size:16}),sx:{mt:.5},onClick:v=>{v.stopPropagation(),a(x.categorySelection)},children:"Diese Kategorie wÃ¤hlen"})]},f))}),e.jsx(b,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:2,textAlign:"center"},children:"ðŸ’¡ Tipp: Klicke auf einen Vorschlag oder wÃ¤hle manuell eine andere Kategorie"})]})})},$={sustainability:"Nachhaltigkeit",condition:"Zustand",seller_type:"VerkÃ¤ufer-Typ"},L=(t,u)=>t.filter(a=>a.type===u&&a.is_active).sort((a,h)=>a.sort_order-h.sort_order),Me=t=>({sustainability:L(t,"sustainability"),condition:L(t,"condition"),seller_type:L(t,"seller_type")}),Ee=()=>{const[t,u]=S.useState([]),[a,h]=S.useState(!0),[n,i]=S.useState(null);S.useEffect(()=>{d()},[]);const d=async()=>{try{h(!0),i(null);const{data:p,error:j}=await Y.from("meta_categories").select("*").eq("is_active",!0).order("type",{ascending:!0}).order("sort_order",{ascending:!0});if(j)throw j;u(p||[])}catch(p){console.error("Error fetching meta-categories:",p),i(p instanceof Error?p.message:"Unknown error")}finally{h(!1)}},c=p=>L(t,p),x=p=>t.find(j=>j.id===p),f=p=>t.find(j=>j.slug===p),v=Me(t);return{metaCategories:t,loading:a,error:n,getByType:c,getById:x,getBySlug:f,grouped:v,refetch:d}},Le=(t,u=18)=>{const a={size:u,style:{flexShrink:0}};return{leaf:e.jsx(we,{...a}),sprout:e.jsx(de,{...a}),recycle:e.jsx(Se,{...a}),"arrow-up-circle":e.jsx(ze,{...a}),sparkles:e.jsx(ce,{...a}),star:e.jsx(U,{...a}),"thumbs-up":e.jsx(Te,{...a}),package:e.jsx(ie,{...a}),"alert-circle":e.jsx(ke,{...a}),user:e.jsx(oe,{...a}),briefcase:e.jsx(ne,{...a}),store:e.jsx(se,{...a}),factory:e.jsx(le,{...a})}[t]||null},F=({type:t,value:u,onChange:a,multiple:h=!1,disabled:n=!1,label:i,helperText:d,orientation:c="horizontal",fullWidth:x=!1})=>{const{getByType:f,loading:v}=Ee(),p=f(t),j=(m,w)=>{w===null?a([]):Array.isArray(w)?a(w):a([w])};return v?e.jsx(o,{sx:{py:2},children:e.jsx(b,{variant:"body2",color:"text.secondary",children:"LÃ¤dt..."})}):e.jsxs(Z,{fullWidth:x,disabled:n,children:[i&&e.jsx(N,{sx:{mb:1.5,fontWeight:600,color:"text.primary",fontSize:"0.9375rem"},children:i||$[t]}),e.jsx(ee,{value:h?u:u[0]||null,onChange:j,exclusive:!h,"aria-label":$[t],orientation:c,sx:{flexWrap:"wrap",gap:1,"& .MuiToggleButtonGroup-grouped":{margin:0,border:"1px solid",borderColor:"divider","&:not(:first-of-type)":{borderLeft:"1px solid",borderLeftColor:"divider"}}},children:p.map(m=>{var B,l,z,r;const w=((l=(B=m.translations)==null?void 0:B.de)==null?void 0:l.name)||m.slug,W=(r=(z=m.translations)==null?void 0:z.de)==null?void 0:r.description,T=m.icon?Le(m.icon,18):null,A=e.jsxs(re,{value:m.id,"aria-label":w,sx:{px:2,py:1,borderRadius:"8px !important",textTransform:"none",fontWeight:500,fontSize:"0.875rem",gap:1,"&.Mui-selected":{backgroundColor:m.color,color:"#ffffff",borderColor:m.color,"&:hover":{backgroundColor:m.color,filter:"brightness(0.9)"}},"&:not(.Mui-selected)":{color:m.color,borderColor:m.color,"&:hover":{backgroundColor:`${m.color}10`,borderColor:m.color}}},children:[T&&e.jsx(o,{sx:{display:"flex",alignItems:"center"},children:T}),w]},m.id);return W?e.jsx(te,{title:W,arrow:!0,placement:"top",children:A},m.id):A})}),d&&e.jsx(ae,{sx:{mt:1},children:d})]})},Ke=["vintage","neu","handmade","bio","nachhaltig","limitiert","sammlerstÃ¼ck","retro","modern","klassisch"],Oe=({title:t,description:u,price:a,category:h,brand:n,condition:i,tags:d=[],priceNegotiable:c,isFree:x,priceOnRequest:f,duration:v,metaCategories:p,onTitleChange:j,onDescriptionChange:m,onPriceChange:w,onCategoryChange:W,onBrandChange:T,onConditionChange:A,onTagsChange:B,onPriceNegotiableChange:l,onIsFreeChange:z,onPriceOnRequestChange:r,onDurationChange:g,onMetaCategoriesChange:y,isMobile:C=!1,hideExtendedSettings:D=!1})=>e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[e.jsx(k,{label:"Titel",value:t,onChange:s=>j(s.target.value),fullWidth:!0,required:!0,placeholder:"z.B. iPhone 13 Pro Max 256GB"}),e.jsx(k,{label:"Beschreibung",value:u,onChange:s=>m(s.target.value),fullWidth:!0,required:!0,multiline:!0,rows:C?4:6,placeholder:"Detaillierte Beschreibung des Artikels..."}),e.jsx(k,{label:"Preis",value:a,onChange:s=>{const I=s.target.value.replace(/[^0-9.,]/g,"");w(I)},fullWidth:!0,required:!0,type:"text",placeholder:"0.00",inputProps:{inputMode:"decimal"},helperText:"in Euro (â‚¬)"}),e.jsx(Ae,{title:t,description:u,currentCategory:h,onSelect:W}),e.jsx(je,{value:h,onChange:W,required:!0,showBreadcrumbs:!0}),e.jsx(k,{label:"Marke",value:n,onChange:s=>T(s.target.value),fullWidth:!0,placeholder:"z.B. Apple, Samsung, IKEA..."}),e.jsxs(k,{label:"Zustand",value:i,onChange:s=>A(s.target.value),fullWidth:!0,select:!0,children:[e.jsx(M,{value:"",children:"Bitte wÃ¤hlen"}),ue.map(s=>e.jsx(M,{value:s.value,children:s.label},s.value))]}),y&&p&&e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:2.5,pt:1},children:[e.jsx(he,{sx:{my:1},children:e.jsx(b,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:"ZusÃ¤tzliche Eigenschaften"})}),e.jsx(F,{type:"condition",value:p.condition||[],onChange:s=>y("condition",s),multiple:!1,label:"Artikelzustand",helperText:"WÃ¤hle den Zustand des Artikels",orientation:C?"vertical":"horizontal",fullWidth:!0}),e.jsx(F,{type:"seller_type",value:p.seller_type||[],onChange:s=>y("seller_type",s),multiple:!1,label:"VerkÃ¤ufer-Typ",helperText:"Privat oder gewerblich?",orientation:C?"vertical":"horizontal",fullWidth:!0}),e.jsx(F,{type:"sustainability",value:p.sustainability||[],onChange:s=>y("sustainability",s),multiple:!0,label:"Nachhaltigkeit (optional)",helperText:"Nachhaltige Eigenschaften des Artikels",orientation:C?"vertical":"horizontal",fullWidth:!0})]}),B&&e.jsx(xe,{multiple:!0,freeSolo:!0,options:Ke,value:d,onChange:(s,I)=>{B(I)},renderTags:(s,I)=>s.map((K,q)=>e.jsx(O,{label:K,...I({index:q}),size:"small"})),renderInput:s=>e.jsx(k,{...s,label:"Tags",placeholder:"Tags hinzufÃ¼gen...",helperText:"DrÃ¼cke Enter um eigene Tags hinzuzufÃ¼gen"})}),!D&&l&&z&&r&&e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:1.5,pt:1},children:[e.jsx(P,{control:e.jsx(_,{checked:x||!1,onChange:s=>{z(s.target.checked),s.target.checked&&(l&&l(!1),r&&r(!1))},size:"small"}),label:e.jsxs(o,{children:[e.jsx(b,{variant:"body2",children:"Zu verschenken"}),e.jsx(b,{variant:"caption",color:"text.secondary",children:"Artikel kostenlos abgeben"})]})}),!x&&!f&&e.jsx(P,{control:e.jsx(_,{checked:c||!1,onChange:s=>l(s.target.checked),size:"small"}),label:e.jsxs(o,{children:[e.jsx(b,{variant:"body2",children:"Verhandlungsbasis (VB)"}),e.jsx(b,{variant:"caption",color:"text.secondary",children:"Preis ist verhandelbar"})]})}),!x&&e.jsx(P,{control:e.jsx(_,{checked:f||!1,onChange:s=>{r(s.target.checked),s.target.checked&&l&&l(!1)},size:"small"}),label:e.jsxs(o,{children:[e.jsx(b,{variant:"body2",children:"Preis auf Anfrage"}),e.jsx(b,{variant:"caption",color:"text.secondary",children:"Preis wird nicht angezeigt"})]})})]}),!D&&g&&e.jsxs(Z,{fullWidth:!0,children:[e.jsx(pe,{children:"Anzeigedauer"}),e.jsxs(ge,{value:v||30,label:"Anzeigedauer",onChange:s=>g(Number(s.target.value)),children:[e.jsx(M,{value:7,children:"7 Tage"}),e.jsx(M,{value:14,children:"14 Tage"}),e.jsx(M,{value:30,children:"30 Tage"}),e.jsx(M,{value:60,children:"60 Tage"}),e.jsx(M,{value:90,children:"90 Tage"})]})]})]}),Ge=({size:t,weight:u,dimensionsLength:a,dimensionsWidth:h,dimensionsHeight:n,material:i,colors:d,style:c,serialNumber:x,onSizeChange:f,onWeightChange:v,onDimensionsChange:p,onMaterialChange:j,onColorsChange:m,onStyleChange:w,onSerialNumberChange:W,isMobile:T=!1})=>{const A=l=>{if(l.key==="Enter"||l.key===","){l.preventDefault();const z=l.currentTarget.querySelector("input");if(z&&z.value.trim()){const r=z.value.trim();d.includes(r)||m([...d,r]),z.value=""}}},B=l=>{m(d.filter(z=>z!==l))};return e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[e.jsx(k,{label:"GrÃ¶ÃŸe",value:t,onChange:l=>f(l.target.value),fullWidth:!0,placeholder:"z.B. M, XL, 40x60cm"}),e.jsx(k,{label:"Gewicht",value:u,onChange:l=>v(l.target.value),fullWidth:!0,placeholder:"z.B. 500g, 2kg"}),e.jsxs(o,{children:[e.jsx(b,{variant:"body2",fontWeight:500,sx:{mb:1},children:"Abmessungen"}),e.jsxs(o,{sx:{display:"flex",gap:2},children:[e.jsx(k,{label:"LÃ¤nge",value:a,onChange:l=>p(l.target.value,h,n),fullWidth:!0,placeholder:"cm",size:T?"small":"medium"}),e.jsx(k,{label:"Breite",value:h,onChange:l=>p(a,l.target.value,n),fullWidth:!0,placeholder:"cm",size:T?"small":"medium"}),e.jsx(k,{label:"HÃ¶he",value:n,onChange:l=>p(a,h,l.target.value),fullWidth:!0,placeholder:"cm",size:T?"small":"medium"})]})]}),e.jsx(k,{label:"Material",value:i,onChange:l=>j(l.target.value),fullWidth:!0,placeholder:"z.B. Holz, Metall, Kunststoff"}),e.jsxs(o,{children:[e.jsx(k,{label:"Farben",fullWidth:!0,placeholder:"Farbe eingeben und Enter drÃ¼cken",onKeyDown:A,helperText:"Enter oder Komma zum HinzufÃ¼gen"}),d.length>0&&e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:1},children:d.map(l=>e.jsx(O,{label:l,onDelete:()=>B(l),size:"small",color:"primary",variant:"outlined"},l))})]}),e.jsx(k,{label:"Stil",value:c,onChange:l=>w(l.target.value),fullWidth:!0,placeholder:"z.B. Modern, Vintage, Klassisch"}),e.jsx(k,{label:"Seriennummer",value:x,onChange:l=>W(l.target.value),fullWidth:!0,placeholder:"Falls vorhanden"})]})},Ve=({images:t,onImagesChange:u,maxImages:a=10})=>{const h=fe(),n=me(h.breakpoints.down("sm")),[i,d]=S.useState(!1),[c,x]=S.useState(null),f=S.useRef(null),v=S.useRef(null),p=r=>{if(!r)return;const g=[],y=a-t.length,C=Math.min(r.length,y);for(let D=0;D<C;D++){const s=r[D];if(s.type.startsWith("image/")){const I=new FileReader;I.onloadend=()=>{const K={file:s,preview:I.result,id:`${Date.now()}-${D}`,isPrimary:t.length===0&&g.length===0};g.push(K),g.length===C&&u([...t,...g])},I.readAsDataURL(s)}}},j=r=>{r.preventDefault(),d(!1),p(r.dataTransfer.files)},m=r=>{r.preventDefault(),d(!0)},w=()=>{d(!1)},W=r=>{var y;const g=t.filter(C=>C.id!==r);g.length>0&&((y=t.find(D=>D.id===r))!=null&&y.isPrimary)&&(g[0].isPrimary=!0),u(g)},T=r=>{const g=t.map(y=>({...y,isPrimary:y.id===r}));u(g)},A=(r,g)=>{const y=[...t],[C]=y.splice(r,1);y.splice(g,0,C),u(y)},B=(r,g)=>{x(g),r.dataTransfer.effectAllowed="move"},l=(r,g)=>{r.preventDefault(),!(c===null||c===g)&&(A(c,g),x(g))},z=()=>{x(null)};return t.length===0?e.jsxs(o,{children:[e.jsxs(G,{onDrop:j,onDragOver:m,onDragLeave:w,elevation:0,sx:{width:"100%",minHeight:{xs:400,sm:360},borderRadius:4,border:"2px dashed",borderColor:i?"primary.main":"#e0e0e0",bgcolor:i?"rgba(25, 118, 210, 0.04)":"#fafafa",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",gap:{xs:3,sm:3.5},py:{xs:4,sm:5},px:{xs:3,sm:4},position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:i?"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)":"transparent",transition:"all 0.3s ease"}},children:[e.jsx(o,{sx:{width:96,height:96,borderRadius:"50%",bgcolor:i?"rgba(25, 118, 210, 0.08)":"rgba(0, 0, 0, 0.04)",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",transform:i?"scale(1.05)":"scale(1)"},children:e.jsx(be,{size:48,color:i?"#1976d2":"#9e9e9e",strokeWidth:1.5})}),e.jsxs(o,{sx:{textAlign:"center",maxWidth:400},children:[e.jsx(b,{variant:"h5",color:"text.primary",sx:{fontWeight:700,mb:1.5,fontSize:{xs:"1.25rem",sm:"1.5rem"},letterSpacing:"-0.02em"},children:"Fotos hinzufÃ¼gen"}),e.jsx(b,{variant:"body1",color:"text.secondary",sx:{mb:.75,fontSize:{xs:"0.9375rem",sm:"1rem"},lineHeight:1.6,fontWeight:400},children:"WÃ¤hle wie du Bilder hinzufÃ¼gen mÃ¶chtest"}),e.jsxs(b,{variant:"body2",sx:{color:"rgba(0, 0, 0, 0.5)",fontSize:"0.875rem",fontWeight:500},children:["Bis zu ",a," Bilder"]})]}),e.jsxs(o,{sx:{display:"flex",gap:2,flexDirection:n?"column":"row",width:n?"100%":"auto",maxWidth:n?"100%":500},children:[n&&e.jsx(H,{variant:"contained",size:"large",startIcon:e.jsx(V,{size:22,strokeWidth:2}),onClick:()=>{var r;return(r=v.current)==null?void 0:r.click()},sx:{flex:1,py:1.75,px:4,borderRadius:3,textTransform:"none",fontSize:"1rem",fontWeight:600,bgcolor:"#10b981",color:"#ffffff",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.25)",transition:"all 0.2s ease","&:hover":{bgcolor:"#059669",boxShadow:"0 6px 20px rgba(16, 185, 129, 0.35)",transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"}},children:"Kamera"}),e.jsx(H,{variant:n?"outlined":"contained",size:"large",startIcon:e.jsx(Ce,{size:22,strokeWidth:2}),onClick:()=>{var r;return(r=f.current)==null?void 0:r.click()},sx:{flex:1,py:{xs:1.75,sm:2},px:4,borderRadius:3,textTransform:"none",fontSize:{xs:"1rem",sm:"1.0625rem"},fontWeight:600,...n?{borderWidth:"2px",borderColor:"primary.main",color:"primary.main","&:hover":{borderWidth:"2px",borderColor:"primary.dark",bgcolor:"rgba(25, 118, 210, 0.08)",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(25, 118, 210, 0.15)"}}:{bgcolor:"primary.main",color:"#ffffff",boxShadow:"0 4px 12px rgba(25, 118, 210, 0.25)","&:hover":{bgcolor:"primary.dark",boxShadow:"0 6px 20px rgba(25, 118, 210, 0.35)",transform:"translateY(-1px)"}},transition:"all 0.2s ease","&:active":{transform:"translateY(0)"}},children:n?"Galerie":"Bilder auswÃ¤hlen"})]}),!n&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2,mt:.5},children:[e.jsx(o,{sx:{flex:1,height:"1px",bgcolor:"divider"}}),e.jsx(b,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.8125rem",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},children:"oder per Drag & Drop"}),e.jsx(o,{sx:{flex:1,height:"1px",bgcolor:"divider"}})]})]}),e.jsx("input",{ref:v,type:"file",accept:"image/*",capture:"environment",multiple:!0,onChange:r=>p(r.target.files),style:{display:"none"}}),e.jsx("input",{ref:f,type:"file",accept:"image/*",multiple:!0,onChange:r=>p(r.target.files),style:{display:"none"}})]}):e.jsxs(o,{children:[e.jsxs(o,{sx:{display:"flex",gap:1.5,flexWrap:"wrap"},children:[t.map((r,g)=>e.jsxs(o,{draggable:!0,onDragStart:y=>B(y,g),onDragOver:y=>l(y,g),onDragEnd:z,sx:{position:"relative",width:120,height:120,borderRadius:3,overflow:"hidden",cursor:"grab",opacity:c===g?.5:1,transition:"opacity 0.2s",border:r.isPrimary?"3px solid":"1px solid",borderColor:r.isPrimary?"primary.main":"divider","&:active":{cursor:"grabbing"}},children:[e.jsx(o,{component:"img",src:r.preview,alt:`Bild ${g+1}`,sx:{width:"100%",height:"100%",objectFit:"cover"}}),r.isPrimary&&e.jsxs(o,{sx:{position:"absolute",top:6,left:6,bgcolor:"primary.main",color:"white",borderRadius:1.5,px:1,py:.25,fontSize:"0.7rem",fontWeight:600,display:"flex",alignItems:"center",gap:.5},children:[e.jsx(U,{size:12,fill:"currentColor"}),"Hauptbild"]}),e.jsx(ye,{size:"small",onClick:()=>W(r.id),sx:{position:"absolute",top:6,right:6,bgcolor:"rgba(255, 255, 255, 0.95)",width:28,height:28,"&:hover":{bgcolor:"error.main",color:"white"}},children:e.jsx(ve,{size:16})}),!r.isPrimary&&e.jsxs(o,{onClick:()=>T(r.id),sx:{position:"absolute",bottom:0,left:0,right:0,bgcolor:"rgba(0, 0, 0, 0.7)",color:"white",py:.5,textAlign:"center",fontSize:"0.7rem",fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:.5,transition:"background-color 0.2s","&:hover":{bgcolor:"rgba(0, 0, 0, 0.85)"}},children:[e.jsx(U,{size:12}),"Als Hauptbild"]})]},r.id)),t.length<a&&e.jsxs(G,{onClick:()=>{var r;return(r=f.current)==null?void 0:r.click()},onDrop:j,onDragOver:m,onDragLeave:w,sx:{width:120,height:120,borderRadius:3,border:"2px dashed",borderColor:i?"primary.main":"divider",bgcolor:i?"action.hover":"transparent",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s",gap:.5,"&:hover":{borderColor:"primary.main",bgcolor:"action.hover"}},children:[e.jsx(V,{size:28,color:"#999"}),e.jsx(b,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:"Bild hinzufÃ¼gen"})]}),e.jsx("input",{ref:f,type:"file",accept:"image/*",capture:"environment",multiple:!0,onChange:r=>p(r.target.files),style:{display:"none"}})]}),t.length>0&&e.jsxs(b,{variant:"caption",color:"text.secondary",sx:{mt:1.5,display:"block"},children:[t.length," von ",a," Bildern"]})]})};export{Oe as B,Ue as C,Ge as D,R as L,Ve as M};
