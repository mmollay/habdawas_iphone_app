import{e as A,r as c,j as e,B as i,T as I,a4 as W,n as B,ar as P,a2 as C,f as L,h as T,I as M,X as F}from"./index-DGPOwJJr.js";import{a as H}from"./star-CCnGXB6K.js";import{P as V}from"./plus-B36wF7R5.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=A("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=A("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=A("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=A("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]),Q=({value:o,label:h,isEditing:s,onChange:S,onSave:b,variant:d="body1",placeholder:u,multiline:f=!1,rows:v=1,required:m=!1,type:r="text",displayValue:y,displayColor:g,disabled:x=!1})=>{const[z,w]=c.useState(o),[k,j]=c.useState(!1),[n,a]=c.useState(!1),t=c.useRef(null);c.useEffect(()=>{w(o)},[o]),c.useEffect(()=>{n&&t.current&&t.current.focus()},[n]);const l=R=>{w(R),S(R)},p=()=>{a(!1),b&&b()},D=()=>{s&&!n&&!x&&a(!0)};return!s||!n?e.jsxs(i,{onMouseEnter:()=>s&&!x&&j(!0),onMouseLeave:()=>j(!1),onClick:D,sx:{cursor:s&&!x?"pointer":"default",position:"relative",px:s?1.5:0,py:s?1:0,mx:s?-1.5:0,my:s?-1:0,borderRadius:1,transition:"all 0.2s",border:s&&k&&!x?"1px dashed rgba(25, 118, 210, 0.4)":"1px dashed transparent",bgcolor:s&&k&&!x?"rgba(25, 118, 210, 0.04)":"transparent",opacity:x?.6:1},children:[h&&e.jsx(I,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:.8,display:"block",mb:.5},children:h}),e.jsxs(i,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[e.jsx(I,{variant:d,sx:{whiteSpace:f?"pre-wrap":"normal",flex:1,color:g||((o||"").trim()?"text.primary":"text.secondary"),fontStyle:(o||"").trim()?"normal":"italic",lineHeight:f?1.8:"inherit",fontWeight:g?"bold":"inherit"},children:y||o||u||"-"}),s&&k&&!x&&e.jsx(W,{size:16,style:{color:"rgba(25, 118, 210, 0.7)",marginTop:d==="h4"?"8px":d==="h5"?"4px":"2px",flexShrink:0}})]})]}):e.jsx(B,{inputRef:t,value:z,onChange:R=>l(R.target.value),onBlur:p,label:h,placeholder:u,fullWidth:!0,multiline:f,rows:v,required:m,type:r,variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})},X=({value:o,label:h,isEditing:s,onChange:S,onSave:b,options:d,placeholder:u})=>{var j;const[f,v]=c.useState(o),[m,r]=c.useState(!1),[y,g]=c.useState(!1);c.useEffect(()=>{v(o)},[o]);const x=n=>{v(n),S(n),g(!1),b&&b()},z=()=>{s&&!y&&g(!0)},w=()=>{g(!1)},k=((j=d.find(n=>n.value===o))==null?void 0:j.label)||o||u||"Keine Angabe";return!s||!y?e.jsxs(i,{onMouseEnter:()=>s&&r(!0),onMouseLeave:()=>r(!1),onClick:z,sx:{cursor:s?"pointer":"default",position:"relative",px:s?1.5:0,py:s?1:0,mx:s?-1.5:0,my:s?-1:0,borderRadius:1,transition:"all 0.2s",border:s&&m?"1px dashed rgba(25, 118, 210, 0.4)":"1px dashed transparent",bgcolor:s&&m?"rgba(25, 118, 210, 0.04)":"transparent"},children:[h&&e.jsx(I,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:.8,display:"block",mb:.5},children:h}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(I,{variant:"body1",sx:{flex:1,color:o?"text.primary":"text.secondary"},children:k}),s&&m&&e.jsx(W,{size:16,style:{color:"rgba(25, 118, 210, 0.7)",flexShrink:0}})]})]}):e.jsxs(B,{select:!0,value:f,onChange:n=>x(n.target.value),onBlur:w,label:h,fullWidth:!0,variant:"outlined",size:"small",autoFocus:!0,SelectProps:{MenuProps:{autoFocus:!1}},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}},children:[e.jsx(P,{value:"",children:u||"Bitte wählen"}),d.map(n=>e.jsx(P,{value:n.value,children:n.label},n.value))]})},_=({value:o,label:h,isEditing:s,onChange:S,onSave:b,placeholder:d,color:u="primary"})=>{const[f,v]=c.useState(o),[m,r]=c.useState(""),[y,g]=c.useState(!1),[x,z]=c.useState(!1);c.useEffect(()=>{v(o)},[o]);const w=t=>{if(t.trim()&&!f.includes(t.trim())){const l=[...f,t.trim()];v(l),S(l),r("")}},k=t=>{const l=f.filter(p=>p!==t);v(l),S(l),b&&b()},j=()=>{s&&!x&&z(!0)},n=()=>{m.trim()&&w(m),z(!1)},a=t=>{(t.key==="Enter"||t.key===",")&&(t.preventDefault(),w(m))};if(!s||!x){const t=o&&o.length>0;return e.jsxs(i,{onMouseEnter:()=>s&&g(!0),onMouseLeave:()=>g(!1),onClick:j,sx:{cursor:s?"pointer":"default",position:"relative",px:s?1.5:0,py:s?1:0,mx:s?-1.5:0,my:s?-1:0,borderRadius:1,transition:"all 0.2s",border:s&&y?"1px dashed rgba(25, 118, 210, 0.4)":"1px dashed transparent",bgcolor:s&&y?"rgba(25, 118, 210, 0.04)":"transparent"},children:[h&&e.jsx(I,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:.8,display:"block",mb:.5},children:h}),t?e.jsxs(i,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[e.jsx(i,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:.5,flex:1},children:o.map((l,p)=>e.jsx(C,{label:l,size:"small",color:u,variant:"outlined",sx:{height:26,fontSize:"0.85rem",fontWeight:500}},p))}),s&&y&&e.jsx(W,{size:16,style:{color:"rgba(25, 118, 210, 0.7)",marginTop:"4px",flexShrink:0}})]}):e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(I,{variant:"body2",color:"text.secondary",sx:{flex:1},children:d||"-"}),s&&y&&e.jsx(W,{size:16,style:{color:"rgba(25, 118, 210, 0.7)",flexShrink:0}})]})]})}return e.jsxs(i,{children:[e.jsx(B,{value:m,onChange:t=>r(t.target.value),onKeyDown:a,onBlur:n,label:h,placeholder:d||"Eingeben und Enter drücken",fullWidth:!0,variant:"outlined",size:"small",autoFocus:!0,helperText:"Enter oder Komma zum Hinzufügen",sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}}),f.length>0&&e.jsx(i,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:1},children:f.map((t,l)=>e.jsx(C,{label:t,onDelete:()=>k(t),size:"small",color:u,variant:"outlined",sx:{height:26,fontSize:"0.85rem",fontWeight:500}},l))})]})},J=({images:o,onChange:h,onSave:s,isEditing:S})=>{const b=c.useRef(null),[d,u]=c.useState(null),[f,v]=c.useState(!1),m=L(),r=T(m.breakpoints.down("md")),y=a=>{if(!a)return;const t=[];Array.from(a).forEach(l=>{if(l.type.startsWith("image/")){const p=URL.createObjectURL(l);t.push({preview:p,file:l,isPrimary:o.length===0&&t.length===0})}}),t.length>0&&h([...o,...t])},g=a=>{const t=o.filter((l,p)=>p!==a);t.length>0&&o[a].isPrimary&&(t[0].isPrimary=!0),h(t),s&&s()},x=a=>{const t=o.map((l,p)=>({...l,isPrimary:p===a}));h(t),s&&s()},z=a=>{u(a)},w=(a,t)=>{if(a.preventDefault(),d===null||d===t)return;const l=[...o],p=l[d];l.splice(d,1),l.splice(t,0,p),u(t),h(l)},k=()=>{u(null)};if(!S)return null;const j=o.find(a=>a.isPrimary)||o[0];o.filter(a=>!a.isPrimary);const n=r?80:100;return e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:1,width:"100%",mb:-2},children:[j&&e.jsxs(i,{sx:{width:"100%",aspectRatio:"1",borderRadius:r?2:3,overflow:"hidden",bgcolor:"#f5f5f5",position:"relative"},children:[e.jsx(i,{component:"img",src:j.preview,alt:"Hauptbild",sx:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs(i,{sx:{position:"absolute",top:r?8:12,left:r?8:12,bgcolor:"primary.main",color:"white",px:r?1:1.5,py:r?.5:.75,borderRadius:r?1.5:2,fontSize:r?"0.65rem":"0.75rem",fontWeight:700,display:"flex",alignItems:"center",gap:.5,boxShadow:2},children:[e.jsx(H,{size:r?12:14,fill:"white"}),"HAUPTBILD"]})]}),e.jsxs(i,{sx:{bgcolor:"white",p:r?1.5:2,borderRadius:r?2:3,border:"1px solid",borderColor:"divider"},children:[e.jsx(I,{variant:"subtitle2",sx:{mb:r?1.5:2,fontWeight:600,fontSize:r?"0.875rem":"0.95rem"},children:"Bilder verwalten"}),e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",gap:r?1:1.5},children:[o.map((a,t)=>e.jsxs(i,{draggable:!0,onDragStart:()=>z(t),onDragOver:l=>w(l,t),onDragEnd:k,sx:{position:"relative",width:n,height:n,borderRadius:r?1.5:2,overflow:"hidden",border:a.isPrimary?"3px solid":"2px solid",borderColor:a.isPrimary?"primary.main":"divider",cursor:"move",transition:"all 0.2s",bgcolor:"#f5f5f5",touchAction:"none","&:hover":{transform:r?"none":"scale(1.05)",boxShadow:2}},children:[e.jsx(i,{component:"img",src:a.preview,alt:`Bild ${t+1}`,sx:{width:"100%",height:"100%",objectFit:"cover"}}),a.isPrimary&&e.jsxs(i,{sx:{position:"absolute",top:r?4:6,left:r?4:6,bgcolor:"primary.main",color:"white",px:r?.75:1,py:r?.25:.5,borderRadius:1,fontSize:r?"0.6rem":"0.65rem",fontWeight:700,display:"flex",alignItems:"center",gap:.5,boxShadow:1},children:[e.jsx(H,{size:r?8:10,fill:"white"}),"HAUPT"]}),e.jsxs(i,{sx:{position:"absolute",top:r?4:6,right:r?4:6,display:"flex",gap:.5},children:[!a.isPrimary&&e.jsx(M,{size:"small",onClick:()=>x(t),sx:{bgcolor:"rgba(255, 255, 255, 0.95)","&:hover":{bgcolor:"primary.main",color:"white"},width:r?22:26,height:r?22:26,boxShadow:1,p:0},title:"Als Hauptbild setzen",children:e.jsx(H,{size:r?12:14})}),e.jsx(M,{size:"small",onClick:()=>g(t),sx:{bgcolor:"rgba(255, 255, 255, 0.95)",color:"error.main","&:hover":{bgcolor:"error.main",color:"white"},width:r?22:26,height:r?22:26,boxShadow:1,p:0},title:"Bild entfernen",children:e.jsx(F,{size:r?12:14})})]})]},t)),e.jsxs(i,{onClick:()=>{var a;return(a=b.current)==null?void 0:a.click()},sx:{width:n,height:n,borderRadius:r?1.5:2,border:"2px dashed",borderColor:"divider",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",bgcolor:"background.default",transition:"all 0.2s","&:hover":{bgcolor:"rgba(25, 118, 210, 0.04)",borderColor:"primary.main"}},children:[e.jsx(V,{size:r?22:28,color:"#9e9e9e"}),e.jsx(I,{variant:"caption",color:"text.secondary",sx:{mt:.5,fontWeight:500,fontSize:r?"0.65rem":"0.75rem"},children:"Hinzufügen"})]})]}),e.jsx("input",{ref:b,type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:a=>y(a.target.files)}),e.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1.5,lineHeight:1.6,fontSize:r?"0.7rem":"0.75rem"},children:["• ",r?"Halte und ziehe":"Ziehe"," Bilder zum Umsortieren",e.jsx("br",{}),"• Klicke auf ",e.jsx(H,{size:10,style:{display:"inline",verticalAlign:"middle"}})," um ein Hauptbild zu wählen"]})]})]})};export{Z as B,q as H,J as I,$ as R,G as W,Q as a,_ as b,X as c};
